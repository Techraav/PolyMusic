/*!CK:2243720836!*//*1456465028,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["7A+p7"]); }

__d('MessengerContactListRow.react',['Image.react','ImageBlock.react','ImmutableObject','Link.react','MercuryTypeaheadConstants','MessengerContactActions','MessengerContactImage.react','MessengerThreadImage.react','ReactComponentWithPureRenderMixin','React','ReactDOM','cx','fbt','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){'use strict';if(c.__markCompiled)c.__markCompiled();var w=q.PropTypes,x=u('/images/mercury/clients/messenger/core/Checkmark.png'),y=32,z=q.createClass({displayName:'MessengerContactListRow',mixins:[p],propTypes:{actionsClass:w.func,className:w.string,contact:w.instanceOf(j).isRequired,disableRole:w.bool,extraActionsEnabled:w.bool.isRequired,isHighlighted:w.bool,isOriginal:w.bool,isSelected:w.bool,onMouseEnter:w.func,onScrollIntoView:w.func,onAction:w.func,presenceStatus:w.bool,viewer:w.string.isRequired,isAdmin:w.bool},getInitialState:function(){return {isActionsOpen:false};},componentDidMount:function(){if(this.props.isHighlighted&&this.props.onScrollIntoView){var aa=r.findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(aa);this.props.onRenderHighlight&&this.props.onRenderHighlight(aa);}},componentDidUpdate:function(aa){if(this.props.isHighlighted&&!aa.isHighlighted){var ba=r.findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(ba);this.props.onRenderHighlight&&this.props.onRenderHighlight(ba);}},render:function(){var aa=this.props.disableRole?{}:{'aria-selected':this.props.isHighlighted,role:'option'};return (q.createElement('li',babelHelpers['extends']({},aa,{className:v(this.props.className,"_5l37"+(this.props.isHighlighted?' '+"_1k1p":'')+(this.state.isActionsOpen?' '+"_rwn":''))}),q.createElement(k,{className:"_5f0v",onClick:this._handleClick,onMouseDown:this._handleMouseDown,onMouseEnter:this.props.onMouseEnter,tabIndex:this.props.actionsClass?0:-1},q.createElement(i,{contentClassName:"_5l38",spacing:'medium'},this._renderContactImage(),this._renderContactText(),this._renderActions()))));},_handleMouseDown:function(aa){if(this.props.actionsClass)return;aa.stopPropagation();aa.preventDefault();},_handleClick:function(aa){aa.stopPropagation();this._handleContactAction(m.SELECT,aa);},_renderContactImage:function(){if(this.props.contact.photo){return (q.createElement(n,{className:"_5l39 _5rmm",isMessengerUser:this.props.contact.isMessengerUser,size:y,src:this.props.contact.photo}));}else if(this.props.contact.type===l.THREAD_TYPE)return (q.createElement(o,{className:"_5l39",participants:this.props.contact.participants,size:y,thread:this.props.contact.thread,viewer:this.props.viewer}));},_renderContactText:function(){if(this.props.contact.subtitle){return (q.createElement('div',null,q.createElement('div',{className:"_3q34"},this.props.contact.title),q.createElement('div',{className:"_3q35"},this.props.contact.subtitle)));}else return (q.createElement('div',{className:"_364g"},this.props.contact.title));},_renderActions:function(){if(this.props.isOriginal)return (q.createElement('span',{className:"_5rh4"},t._("Ajout\u00e9")));if(this.props.isSelected)return (q.createElement(h,{className:"_1kqm",src:x}));if(this.props.presenceStatus)return (q.createElement('div',{className:"_jg2"}));var aa=null;if(this.props.isAdmin)aa=q.createElement('span',{className:"_5qsj"},t._("Propri\u00e9taire"));if(this.props.actionsClass){var ba=this.props.actionsClass;return (q.createElement('div',null,aa,q.createElement(ba,{className:"_rwo",contact:this.props.contact,extrasEnabled:this.props.extraActionsEnabled,isOpen:this.state.isActionsOpen,onAction:this._handleContactAction,onToggle:this._handleActionsToggle,viewer:this.props.viewer})));}return aa;},_handleContactAction:function(aa,event){this.props.onAction&&this.props.onAction(aa,event);},_handleActionsToggle:function(aa){this.setState({isActionsOpen:aa});}});f.exports=z;},null);