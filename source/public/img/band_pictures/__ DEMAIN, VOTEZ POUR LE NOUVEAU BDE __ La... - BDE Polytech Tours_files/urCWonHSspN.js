/*!CK:359332621!*//*1456123613,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["8Iy0F"]); }

__d('GamesImageSlideshow.react',['Animation','React','ReactDOM','Image.react','TimeSlice','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=1500,p=250,q=i.createClass({displayName:'GamesImageSlideshow',getInitialState:function(){return {previous:0,active:0};},propTypes:{image_urls:n.array.isRequired,height:n.number.isRequired,width:n.number.isRequired,autoplay:n.bool},getDefaultProps:function(){return {autoplay:false};},componentDidMount:function(){if(this.props.autoplay)this.timeout=setTimeout(this._startSlideshow,o);},componentWillUnmount:function(){this._clearInterval();},_startSlideshow:function(){if(this.running)return;this.running=true;var r=function(){var s=(this.state.active+1)%this.props.image_urls.length,t=this.props.image_urls[s],u=new Image(),v=function(){if(!this.running)return;this._switchImage(s);this.interval=setTimeout(r,o);}.bind(this);u.onload=l.guard(v,'GamesImageSlideshow image.onload');u.src=t;}.bind(this);r();},_switchImage:function(r){this.setState({previous:this.state.active,active:r},this._fadeImage);},_fadeImage:function(){if(this.state.active!==this.state.previous){var r=j.findDOMNode(this.refs[this.state.previous]),s=j.findDOMNode(this.refs[this.state.active]);this.anims=[new h(r).from('opacity',1).to('opacity',0).duration(p).go(),new h(s).from('opacity',0).to('opacity',1).duration(p).go()];}},_clearInterval:function(){if(this.interval){clearTimeout(this.interval);this.interval=null;}},_stopSlideshow:function(){this.running=false;this._clearInterval();if(this.anims)this.anims.map(function(r){r.stop();});this._switchImage(0);},_createImage:function(r){return i.createElement(k,{ref:r,key:r,src:this.props.image_urls[r]});},_getCurrentImages:function(){var r=this.state.previous,s=this.state.active;if(r==s){return [this._createImage(r)];}else return [this._createImage(r),this._createImage(s)];},render:function(){return (i.createElement('div',{style:{height:this.props.height+'px',width:this.props.width+'px'},onMouseEnter:!this.props.autoplay?this._startSlideshow:null,onMouseLeave:!this.props.autoplay?this._stopSlideshow:null,className:"_4x1w"},this._getCurrentImages()));}});f.exports=q;},null);
__d('legacy:tour',['Tour'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();b.Tour=c('Tour');},3);